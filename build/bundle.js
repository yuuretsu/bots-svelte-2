var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function o(){return Object.create(null)}function s(t){t.forEach(n)}function r(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e,n,o){if(t){const s=u(t,e,n,o);return t[0](s)}}function u(t,n,o,s){return t[1]&&s?e(o.ctx.slice(),t[1](s(n))):o.ctx}function a(t,e,n,o){if(t[2]&&o){const s=t[2](o(n));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],n=Math.max(e.dirty.length,s.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|s[o];return t}return e.dirty|s}return e.dirty}function d(t,e,n,o,s,r){if(s){const i=u(e,n,o,r);t.p(i,s)}}function h(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function p(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function f(t,e){t.appendChild(e)}function $(t,e,n){t.insertBefore(e,n||null)}function g(t){t.parentNode.removeChild(t)}function m(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function w(t){return document.createTextNode(t)}function y(){return w(" ")}function b(){return w("")}function x(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function _(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function k(t){return""===t?null:+t}function E(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function C(t,e){t.value=null==e?"":e}function A(t,e,n){t.classList[n?"add":"remove"](e)}class M{constructor(){this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.e=m(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)$(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(g)}}let z;function P(t){z=t}function O(){if(!z)throw new Error("Function called outside component initialization");return z}function I(){const t=O();return(e,n)=>{const o=t.$$.callbacks[e];if(o){const s=function(t,e,n=!1){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,!1,e),o}(e,n);o.slice().forEach((e=>{e.call(t,s)}))}}}const S=[],B=[],j=[],N=[],D=Promise.resolve();let L=!1;function T(t){j.push(t)}function F(t){N.push(t)}let H=!1;const V=new Set;function q(){if(!H){H=!0;do{for(let t=0;t<S.length;t+=1){const e=S[t];P(e),X(e.$$)}for(P(null),S.length=0;B.length;)B.pop()();for(let t=0;t<j.length;t+=1){const e=j[t];V.has(e)||(V.add(e),e())}j.length=0}while(S.length);for(;N.length;)N.pop()();L=!1,H=!1,V.clear()}}function X(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const R=new Set;let Y;function G(){Y={r:0,c:[],p:Y}}function J(){Y.r||s(Y.c),Y=Y.p}function K(t,e){t&&t.i&&(R.delete(t),t.i(e))}function Q(t,e,n,o){if(t&&t.o){if(R.has(t))return;R.add(t),Y.c.push((()=>{R.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}const U="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function W(t,e){const n={},o={},s={$$scope:1};let r=t.length;for(;r--;){const i=t[r],c=e[r];if(c){for(const t in i)t in c||(o[t]=1);for(const t in c)s[t]||(n[t]=c[t],s[t]=1);t[r]=c}else for(const t in i)s[t]=1}for(const t in o)t in n||(n[t]=void 0);return n}function Z(t){return"object"==typeof t&&null!==t?t:{}}function tt(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function et(t){t&&t.c()}function nt(t,e,o,i){const{fragment:c,on_mount:l,on_destroy:u,after_update:a}=t.$$;c&&c.m(e,o),i||T((()=>{const e=l.map(n).filter(r);u?u.push(...e):s(e),t.$$.on_mount=[]})),a.forEach(T)}function ot(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function st(t,e){-1===t.$$.dirty[0]&&(S.push(t),L||(L=!0,D.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function rt(e,n,r,i,c,l,u,a=[-1]){const d=z;P(e);const h=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:c,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:o(),dirty:a,skip_bound:!1,root:n.target||d.$$.root};u&&u(h.root);let p=!1;if(h.ctx=r?r(e,n.props||{},((t,n,...o)=>{const s=o.length?o[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=s)&&(!h.skip_bound&&h.bound[t]&&h.bound[t](s),p&&st(e,t)),n})):[],h.update(),p=!0,s(h.before_update),h.fragment=!!i&&i(h.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);h.fragment&&h.fragment.l(t),t.forEach(g)}else h.fragment&&h.fragment.c();n.intro&&K(e.$$.fragment),nt(e,n.target,n.anchor,n.customElement),q()}P(d)}class it{$destroy(){ot(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function ct(t){let e,n;return{c(){e=v("title"),n=w(t[0])},m(t,o){$(t,e,o),f(e,n)},p(t,e){1&e&&E(n,t[0])},d(t){t&&g(e)}}}function lt(t){let e,n,o,s=t[0]&&ct(t);const r=t[3].default,i=l(r,t,t[2],null);return{c(){e=v("svg"),s&&s.c(),n=b(),i&&i.c(),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"viewBox",t[1]),_(e,"class","svelte-c8tyih")},m(t,r){$(t,e,r),s&&s.m(e,null),f(e,n),i&&i.m(e,null),o=!0},p(t,[c]){t[0]?s?s.p(t,c):(s=ct(t),s.c(),s.m(e,n)):s&&(s.d(1),s=null),i&&i.p&&(!o||4&c)&&d(i,r,t,t[2],o?a(r,t[2],c,null):h(t[2]),null),(!o||2&c)&&_(e,"viewBox",t[1])},i(t){o||(K(i,t),o=!0)},o(t){Q(i,t),o=!1},d(t){t&&g(e),s&&s.d(),i&&i.d(t)}}}function ut(t,e,n){let{$$slots:o={},$$scope:s}=e,{title:r=null}=e,{viewBox:i}=e;return t.$$set=t=>{"title"in t&&n(0,r=t.title),"viewBox"in t&&n(1,i=t.viewBox),"$$scope"in t&&n(2,s=t.$$scope)},[r,i,s,o]}class at extends it{constructor(t){super(),rt(this,t,ut,lt,i,{title:0,viewBox:1})}}function dt(t){let e;return{c(){e=v("path"),_(e,"d","M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function ht(t){let n,o;const s=[{viewBox:"0 0 24 24"},t[0]];let r={$$slots:{default:[dt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=e(r,s[t]);return n=new at({props:r}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p(t,[e]){const o=1&e?W(s,[s[0],Z(t[0])]):{};2&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function pt(t,n,o){return t.$$set=t=>{o(0,n=e(e({},n),p(t)))},[n=p(n)]}class ft extends it{constructor(t){super(),rt(this,t,pt,ht,i,{})}}function $t(t){let e,n;const o=t[3].default,s=l(o,t,t[2],null);return{c(){e=m("div"),s&&s.c(),_(e,"class","body svelte-1qtc2ut")},m(t,o){$(t,e,o),s&&s.m(e,null),n=!0},p(t,e){s&&s.p&&(!n||4&e)&&d(s,o,t,t[2],n?a(o,t[2],e,null):h(t[2]),null)},i(t){n||(K(s,t),n=!0)},o(t){Q(s,t),n=!1},d(t){t&&g(e),s&&s.d(t)}}}function gt(t){let e,n,o,s,r,i,c,l,u,a,d,h,p;u=new ft({});let v=t[0]&&$t(t);return{c(){e=m("div"),n=m("label"),o=m("input"),s=y(),r=m("span"),i=w(t[1]),c=y(),l=m("div"),et(u.$$.fragment),a=y(),v&&v.c(),_(o,"class","visually-hidden"),_(o,"type","checkbox"),_(r,"class","title svelte-1qtc2ut"),_(l,"class","icon header__icon svelte-1qtc2ut"),A(l,"opened",t[0]),_(n,"class","header svelte-1qtc2ut"),A(n,"opened",t[0]),_(e,"class","accordion svelte-1qtc2ut"),A(e,"opened",t[0])},m(g,m){$(g,e,m),f(e,n),f(n,o),o.checked=t[0],f(n,s),f(n,r),f(r,i),f(n,c),f(n,l),nt(u,l,null),f(e,a),v&&v.m(e,null),d=!0,h||(p=x(o,"change",t[4]),h=!0)},p(t,[s]){1&s&&(o.checked=t[0]),(!d||2&s)&&E(i,t[1]),1&s&&A(l,"opened",t[0]),1&s&&A(n,"opened",t[0]),t[0]?v?(v.p(t,s),1&s&&K(v,1)):(v=$t(t),v.c(),K(v,1),v.m(e,null)):v&&(G(),Q(v,1,1,(()=>{v=null})),J()),1&s&&A(e,"opened",t[0])},i(t){d||(K(u.$$.fragment,t),K(v),d=!0)},o(t){Q(u.$$.fragment,t),Q(v),d=!1},d(t){t&&g(e),ot(u),v&&v.d(),h=!1,p()}}}function mt(t,e,n){let{$$slots:o={},$$scope:s}=e,{title:r}=e,{opened:i=!1}=e;return t.$$set=t=>{"title"in t&&n(1,r=t.title),"opened"in t&&n(0,i=t.opened),"$$scope"in t&&n(2,s=t.$$scope)},[i,r,s,o,function(){i=this.checked,n(0,i)}]}class vt extends it{constructor(t){super(),rt(this,t,mt,gt,i,{title:1,opened:0})}}function wt(t){let e,n,o,i,c,u,p;const v=t[9].default,w=l(v,t,t[8],null);return{c(){e=m("div"),n=m("div"),w&&w.c(),_(n,"style",o=`transform: translate(${t[0][0]}px, ${t[0][1]}px);`),_(e,"class","drag-wrapper svelte-rtxv48"),_(e,"style",i=`height: ${t[1]}`)},m(o,s){$(o,e,s),f(e,n),w&&w.m(n,null),c=!0,u||(p=[x(window,"mousemove",(function(){r(t[2])&&t[2].apply(this,arguments)})),x(window,"mouseup",(function(){r(t[3])&&t[3].apply(this,arguments)})),x(window,"touchmove",(function(){r(t[4])&&t[4].apply(this,arguments)})),x(window,"touchend",(function(){r(t[5])&&t[5].apply(this,arguments)})),x(e,"mousedown",t[6]),x(e,"touchstart",t[7])],u=!0)},p(s,[r]){t=s,w&&w.p&&(!c||256&r)&&d(w,v,t,t[8],c?a(v,t[8],r,null):h(t[8]),null),(!c||1&r&&o!==(o=`transform: translate(${t[0][0]}px, ${t[0][1]}px);`))&&_(n,"style",o),(!c||2&r&&i!==(i=`height: ${t[1]}`))&&_(e,"style",i)},i(t){c||(K(w,t),c=!0)},o(t){Q(w,t),c=!1},d(t){t&&g(e),w&&w.d(t),u=!1,s(p)}}}function yt(t,e,n){let{$$slots:o={},$$scope:s}=e;function r(t){t.preventDefault(),n(0,f=[t.clientX-$[0],t.clientY-$[1]]),document.body.style.cursor="grabbing"}function i(){n(2,u=void 0),n(3,a=void 0),document.body.style.cursor="",document.body.getAttribute("style")||document.body.removeAttribute("style")}function c(t){n(0,f=[t.touches[0].clientX-$[0],t.touches[0].clientY-$[1]])}function l(){n(4,d=void 0),n(5,h=void 0)}let u,a,d,h,{height:p="auto"}=e,{currentPos:f=[0,0]}=e,$=[0,0];return t.$$set=t=>{"height"in t&&n(1,p=t.height),"currentPos"in t&&n(0,f=t.currentPos),"$$scope"in t&&n(8,s=t.$$scope)},[f,p,u,a,d,h,function(t){$=[t.clientX-f[0],t.clientY-f[1]],n(2,u=r),n(3,a=i)},function(t){var e,o;let s=(null===(e=t.touches[0])||void 0===e?void 0:e.clientX)||0,r=(null===(o=t.touches[0])||void 0===o?void 0:o.clientY)||0;$=[s-f[0],r-f[1]],n(4,d=c),n(5,h=l)},s,o]}class bt extends it{constructor(t){super(),rt(this,t,yt,wt,i,{height:1,currentPos:0})}}function xt(t){let e,n;const o=t[2].default,s=l(o,t,t[1],null);return{c(){e=m("div"),s&&s.c(),_(e,"class","sidebar svelte-4w60z7"),A(e,"opened",t[0])},m(t,o){$(t,e,o),s&&s.m(e,null),n=!0},p(t,[r]){s&&s.p&&(!n||2&r)&&d(s,o,t,t[1],n?a(o,t[1],r,null):h(t[1]),null),1&r&&A(e,"opened",t[0])},i(t){n||(K(s,t),n=!0)},o(t){Q(s,t),n=!1},d(t){t&&g(e),s&&s.d(t)}}}function _t(t,e,n){let{$$slots:o={},$$scope:s}=e,{opened:r=!0}=e;return t.$$set=t=>{"opened"in t&&n(0,r=t.opened),"$$scope"in t&&n(1,s=t.$$scope)},[r,s,o]}class kt extends it{constructor(t){super(),rt(this,t,_t,xt,i,{opened:0})}}function Et(t){let e;return{c(){e=v("path"),_(e,"d","M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Ct(t){let n,o;const s=[{viewBox:"0 0 24 24"},t[0]];let r={$$slots:{default:[Et]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=e(r,s[t]);return n=new at({props:r}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p(t,[e]){const o=1&e?W(s,[s[0],Z(t[0])]):{};2&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function At(t,n,o){return t.$$set=t=>{o(0,n=e(e({},n),p(t)))},[n=p(n)]}class Mt extends it{constructor(t){super(),rt(this,t,At,Ct,i,{})}}function zt(t){let e;return{c(){e=v("path"),_(e,"d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Pt(t){let n,o;const s=[{viewBox:"0 0 24 24"},t[0]];let r={$$slots:{default:[zt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=e(r,s[t]);return n=new at({props:r}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p(t,[e]){const o=1&e?W(s,[s[0],Z(t[0])]):{};2&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Ot(t,n,o){return t.$$set=t=>{o(0,n=e(e({},n),p(t)))},[n=p(n)]}class It extends it{constructor(t){super(),rt(this,t,Ot,Pt,i,{})}}function St(t){let e;return{c(){e=v("path"),_(e,"d","M8 5v14l11-7z")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Bt(t){let n,o;const s=[{viewBox:"0 0 24 24"},t[0]];let r={$$slots:{default:[St]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=e(r,s[t]);return n=new at({props:r}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p(t,[e]){const o=1&e?W(s,[s[0],Z(t[0])]):{};2&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function jt(t,n,o){return t.$$set=t=>{o(0,n=e(e({},n),p(t)))},[n=p(n)]}class Nt extends it{constructor(t){super(),rt(this,t,jt,Bt,i,{})}}function Dt(t){let e;return{c(){e=v("path"),_(e,"d","M6 19h4V5H6v14zm8-14v14h4V5h-4z")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Lt(t){let n,o;const s=[{viewBox:"0 0 24 24"},t[0]];let r={$$slots:{default:[Dt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=e(r,s[t]);return n=new at({props:r}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p(t,[e]){const o=1&e?W(s,[s[0],Z(t[0])]):{};2&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Tt(t,n,o){return t.$$set=t=>{o(0,n=e(e({},n),p(t)))},[n=p(n)]}class Ft extends it{constructor(t){super(),rt(this,t,Tt,Lt,i,{})}}function Ht(t){let e;return{c(){e=v("path"),_(e,"d","M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Vt(t){let n,o;const s=[{viewBox:"0 0 24 24"},t[0]];let r={$$slots:{default:[Ht]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=e(r,s[t]);return n=new at({props:r}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p(t,[e]){const o=1&e?W(s,[s[0],Z(t[0])]):{};2&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function qt(t,n,o){return t.$$set=t=>{o(0,n=e(e({},n),p(t)))},[n=p(n)]}class Xt extends it{constructor(t){super(),rt(this,t,qt,Vt,i,{})}}function Rt(t){let e;return{c(){e=v("path"),_(e,"d","M12 5V1L7 6l5 5V7c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6H4c0 4.42 3.58 8 8 8s8-3.58 8-8-3.58-8-8-8z")},m(t,n){$(t,e,n)},d(t){t&&g(e)}}}function Yt(t){let n,o;const s=[{viewBox:"0 0 24 24"},t[0]];let r={$$slots:{default:[Rt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)r=e(r,s[t]);return n=new at({props:r}),{c(){et(n.$$.fragment)},m(t,e){nt(n,t,e),o=!0},p(t,[e]){const o=1&e?W(s,[s[0],Z(t[0])]):{};2&e&&(o.$$scope={dirty:e,ctx:t}),n.$set(o)},i(t){o||(K(n.$$.fragment,t),o=!0)},o(t){Q(n.$$.fragment,t),o=!1},d(t){ot(n,t)}}}function Gt(t,n,o){return t.$$set=t=>{o(0,n=e(e({},n),p(t)))},[n=p(n)]}class Jt extends it{constructor(t){super(),rt(this,t,Gt,Yt,i,{})}}const Kt=t=>({}),Qt=t=>({}),Ut=t=>({}),Wt=t=>({});function Zt(t){let e,n,o,s,r,i;const c=t[5].a,u=l(c,t,t[4],Wt),p=t[5].b,v=l(p,t,t[4],Qt);return{c(){e=m("div"),n=m("div"),o=m("div"),u&&u.c(),s=y(),r=m("div"),v&&v.c(),_(o,"class","icon svelte-12579v1"),A(o,"hidden",t[0]),_(r,"class","icon svelte-12579v1"),A(r,"hidden",!t[0]),_(n,"class","icon-switch__inner svelte-12579v1"),A(n,"switched",t[0]),_(e,"class","icon-switch svelte-12579v1"),_(e,"style",t[1])},m(t,c){$(t,e,c),f(e,n),f(n,o),u&&u.m(o,null),f(n,s),f(n,r),v&&v.m(r,null),i=!0},p(t,[e]){u&&u.p&&(!i||16&e)&&d(u,c,t,t[4],i?a(c,t[4],e,Ut):h(t[4]),Wt),1&e&&A(o,"hidden",t[0]),v&&v.p&&(!i||16&e)&&d(v,p,t,t[4],i?a(p,t[4],e,Kt):h(t[4]),Qt),1&e&&A(r,"hidden",!t[0]),1&e&&A(n,"switched",t[0])},i(t){i||(K(u,t),K(v,t),i=!0)},o(t){Q(u,t),Q(v,t),i=!1},d(t){t&&g(e),u&&u.d(t),v&&v.d(t)}}}function te(t,e,n){let{$$slots:o={},$$scope:s}=e,{width:r}=e,{height:i=r}=e,{switched:c=!1}=e,l=`width: ${r}; height: ${i};`;return t.$$set=t=>{"width"in t&&n(2,r=t.width),"height"in t&&n(3,i=t.height),"switched"in t&&n(0,c=t.switched),"$$scope"in t&&n(4,s=t.$$scope)},[c,l,r,i,s,o]}class ee extends it{constructor(t){super(),rt(this,t,te,Zt,i,{width:2,height:3,switched:0})}}function ne(t){let e,n,o,s,r;return s=new Mt({}),{c(){e=m("div"),n=m("span"),n.textContent="open menu",o=y(),et(s.$$.fragment),_(n,"class","visually-hidden"),_(e,"class","icon svelte-1l88722"),_(e,"slot","a")},m(t,i){$(t,e,i),f(e,n),f(e,o),nt(s,e,null),r=!0},i(t){r||(K(s.$$.fragment,t),r=!0)},o(t){Q(s.$$.fragment,t),r=!1},d(t){t&&g(e),ot(s)}}}function oe(t){let e,n,o,s,r;return s=new It({}),{c(){e=m("div"),n=m("span"),n.textContent="close menu",o=y(),et(s.$$.fragment),_(n,"class","visually-hidden"),_(e,"class","icon svelte-1l88722"),_(e,"slot","b")},m(t,i){$(t,e,i),f(e,n),f(e,o),nt(s,e,null),r=!0},i(t){r||(K(s.$$.fragment,t),r=!0)},o(t){Q(s.$$.fragment,t),r=!1},d(t){t&&g(e),ot(s)}}}function se(t){let e,n,o,s,r;return s=new Nt({}),{c(){e=m("div"),n=m("span"),n.textContent="play",o=y(),et(s.$$.fragment),_(n,"class","visually-hidden"),_(e,"class","icon svelte-1l88722"),_(e,"slot","a")},m(t,i){$(t,e,i),f(e,n),f(e,o),nt(s,e,null),r=!0},i(t){r||(K(s.$$.fragment,t),r=!0)},o(t){Q(s.$$.fragment,t),r=!1},d(t){t&&g(e),ot(s)}}}function re(t){let e,n,o,s,r;return s=new Ft({}),{c(){e=m("div"),n=m("span"),n.textContent="pause",o=y(),et(s.$$.fragment),_(n,"class","visually-hidden"),_(e,"class","icon svelte-1l88722"),_(e,"slot","b")},m(t,i){$(t,e,i),f(e,n),f(e,o),nt(s,e,null),r=!0},i(t){r||(K(s.$$.fragment,t),r=!0)},o(t){Q(s.$$.fragment,t),r=!1},d(t){t&&g(e),ot(s)}}}function ie(t){let e,n,o,r,i,c,l,u,a,d,h,p,v,w,b,k,E,C,A,M,z;return o=new ee({props:{width:"25px",switched:t[0],$$slots:{b:[oe],a:[ne]},$$scope:{ctx:t}}}),c=new ee({props:{width:"25px",switched:t[1],$$slots:{b:[re],a:[se]},$$scope:{ctx:t}}}),p=new Xt({}),C=new Jt({}),{c(){e=m("div"),n=m("button"),et(o.$$.fragment),r=y(),i=m("button"),et(c.$$.fragment),l=y(),u=m("button"),a=m("div"),d=m("span"),d.textContent="step",h=y(),et(p.$$.fragment),v=y(),w=m("button"),b=m("div"),k=m("span"),k.textContent="restart",E=y(),et(C.$$.fragment),_(n,"class","btn svelte-1l88722"),_(i,"class","btn svelte-1l88722"),_(d,"class","visually-hidden"),_(a,"class","icon svelte-1l88722"),_(u,"class","btn svelte-1l88722"),_(k,"class","visually-hidden"),_(b,"class","icon svelte-1l88722"),_(w,"class","btn svelte-1l88722"),_(e,"class","wrapper svelte-1l88722")},m(s,g){$(s,e,g),f(e,n),nt(o,n,null),f(e,r),f(e,i),nt(c,i,null),f(e,l),f(e,u),f(u,a),f(a,d),f(a,h),nt(p,a,null),f(e,v),f(e,w),f(w,b),f(b,k),f(b,E),nt(C,b,null),A=!0,M||(z=[x(n,"click",t[2]),x(i,"click",t[3]),x(u,"click",t[4]),x(w,"click",t[5])],M=!0)},p(t,[e]){const n={};1&e&&(n.switched=t[0]),128&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const s={};2&e&&(s.switched=t[1]),128&e&&(s.$$scope={dirty:e,ctx:t}),c.$set(s)},i(t){A||(K(o.$$.fragment,t),K(c.$$.fragment,t),K(p.$$.fragment,t),K(C.$$.fragment,t),A=!0)},o(t){Q(o.$$.fragment,t),Q(c.$$.fragment,t),Q(p.$$.fragment,t),Q(C.$$.fragment,t),A=!1},d(t){t&&g(e),ot(o),ot(c),ot(p),ot(C),M=!1,s(z)}}}function ce(t,e,n){let{sidebarOpened:o}=e,{play:s}=e;const r=I();return t.$$set=t=>{"sidebarOpened"in t&&n(0,o=t.sidebarOpened),"play"in t&&n(1,s=t.play)},[o,s,function(){n(0,o=!o)},function(){n(1,s=!s)},function(){r("step")},function(){r("restart")}]}class le extends it{constructor(t){super(),rt(this,t,ce,ie,i,{sidebarOpened:0,play:1})}}let ue;const ae=Math.floor(Math.random()*Number.MAX_SAFE_INTEGER);function de(t){var e;return e=t,ue=function(){var t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},console.log(ue()),ue}function he(t,e,n=ue){return n()*(e-t)+t}function pe(t,e,n=ue){return Math.floor(he(t,e,n))}function fe(t,e=ue){return t[pe(0,t.length,e)]}function $e(t,e,n){return n>=t?n%e:e- -n%e}function ge(t,e,n){return Math.max(Math.min(n,e),t)}function me(t,e,n){return t+(e-t)*n}de(ae);class ve{constructor(t,e){this.width=t,this.height=e,this.cells=new Array(t);for(let n=0;n<t;n++)this.cells[n]=new Array(e).fill(void 0)}fixCoords(t,e){return[$e(0,this.width,t),$e(0,this.height,e)]}randCoords(){return[pe(0,this.width),pe(0,this.height)]}randEmpty(){let t;do{t=this.randCoords()}while(this.get(...t));return t}fill(t){return this.cells.map((e=>e.fill(t))),this}get(t,e){return this.cells[t][e]}getOr(t,e,n){const o=this.cells[t][e];return void 0!==o?o:n}set(t,e,n){this.cells[t][e]=n}remove(t,e){delete this.cells[t][e]}swap(t,e,n,o){const s=this.get(t,e),r=this.get(n,o);this.set(t,e,r),this.set(n,o,s)}forEach(t){for(let e=0;e<this.width;e++)for(let n=0;n<this.height;n++)t(this.get(e,n),e,n)}map(t){const e=new ve(this.width,this.height);return this.forEach(((n,o,s)=>{e.set(o,s,t(n,o,s))})),e}flat(){return Array.prototype.concat.apply([],this.cells)}}class we extends ImageData{constructor(t,e){super(t,e)}setPixel(t,e,n,o,s,r){const i=4*(t+e*this.width);return this.data[i]=n,this.data[i+1]=o,this.data[i+2]=s,this.data[i+3]=r,this}getPixel(t,e){const n=4*(t+e*this.width);return[this.data[n],this.data[n+1],this.data[n+2],this.data[n+3]]}}function ye(e){let n;return{c(){n=m("canvas"),_(n,"class","svelte-sywccx")},m(t,o){$(t,n,o),e[3](n)},p:t,i:t,o:t,d(t){t&&g(n),e[3](null)}}}function be(t,e,n){let o,{imageData:s}=e,{pixelSize:r=5}=e;var i;return i=()=>{n(0,o.width=s.width*r,o),n(0,o.height=s.height*r,o);const t=o.getContext("2d");if(!t)return;t.imageSmoothingEnabled=!1;const e=document.createElement("canvas");e.width=s.width,e.height=s.height;const i=e.getContext("2d");i&&(i.putImageData(s,0,0),t.drawImage(e,0,0,o.width,o.height))},O().$$.after_update.push(i),t.$$set=t=>{"imageData"in t&&n(1,s=t.imageData),"pixelSize"in t&&n(2,r=t.pixelSize)},[o,s,r,function(t){B[t?"unshift":"push"]((()=>{o=t,n(0,o)}))}]}class xe extends it{constructor(t){super(),rt(this,t,be,ye,i,{imageData:1,pixelSize:2})}}class _e{constructor(t,e,n,o){this.red=t,this.green=e,this.blue=n,this.alpha=o}static randRgb(t=(()=>he(0,1))){return new _e(pe(0,256,t),pe(0,256,t),pe(0,256,t),255)}interpolate(t,e,n=me){return new _e(n(this.red,t.red,e),n(this.green,t.green,e),n(this.blue,t.blue,e),n(this.alpha,t.alpha,e))}toArray(){return[this.red,this.green,this.blue,this.alpha]}}_e.MAX_DIF=1020;class ke extends ve{constructor(t,e,n){super(t,e),this.genePool=n}}class Ee extends ke{step(){const t=[];this.forEach(((e,n,o)=>{e&&t.push({block:e,pos:[n,o]})}));t.sort((()=>he(0,1)-.5)).forEach((({block:t,pos:e})=>t.live(...e,this)))}getPixels(){const t=new we(this.width,this.height);return this.forEach(((e,n,o)=>{e&&t.setPixel(n,o,...(e.getColor()||new _e(0,0,0,0)).toArray())})),t}getComponentProps(){return{imageData:this.getPixels(),pixelSize:6}}getComponent(){return xe}narrowToCoords(t,e,n,o){n=$e(0,8,n);const s=t+Ce[n][0]*o,r=e+Ce[n][1]*o;return this.fixCoords(s,r)}}const Ce=[[-1,-1],[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0]];class Ae{constructor(t,e,n,o){this.rgba=t,this.energy=e,this.abilities=n,this.genome=o,this.age=0,this.health=.5,this._narrow=pe(0,8)}set narrow(t){this._narrow=$e(0,8,t)}get narrow(){return this._narrow}multiply(t,e){const n=this.energy*e;return this.energy-=n,new Ae(this.rgba.interpolate(new _e(255,255,255,255),.1),n,Object.assign({},this.abilities),this.genome.replication(t))}onAttack(t,e){const n=Math.min(this.energy,e);return this.energy-=n,t.energy+=n,this.health-=.1,n}increaseAbility(t){for(const e in this.abilities)Object.prototype.hasOwnProperty.call(this.abilities,e)&&(this.abilities[e]=ge(0,1,this.abilities[e]+(e===t?.01:-.01)))}live(t,e,n){this.age>2e3||this.energy<1?n.remove(t,e):(this.genome.doAction(this,t,e,n),this.age++)}getColor(){return this.rgba}}const Me=[];function ze(e,n=t){let o;const s=new Set;function r(t){if(i(e,t)&&(e=t,o)){const t=!Me.length;for(const t of s)t[1](),Me.push(t,e);if(t){for(let t=0;t<Me.length;t+=2)Me[t][0](Me[t+1]);Me.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,c=t){const l=[i,c];return s.add(l),1===s.size&&(o=n(r)||t),i(e),()=>{s.delete(l),0===s.size&&(o(),o=null)}}}}const Pe={name:"Пустой ген",description:"Ничего не происходит",defaultEnabled:!1,color:new _e(127,127,127,255),colorInfluence:.01,action:(t,e,n,o,s)=>({completed:!0,goto:null,msg:"Бездействие"})},Oe={template:Pe,property:{option:0,branches:[0,0]}};function Ie(t){return{option:ue(),branches:[pe(0,t),pe(0,t)]}}function Se(t,e){return{template:fe(Array.from(t))||Pe,property:Ie(e)}}function Be(t,e){const n=new Set;for(const o of t){const t=e[o];t&&n.add(t)}return n}class je{constructor(t){this._pointer=0,this.genes=new Array(t).fill(Oe)}set pointer(t){this._pointer=$e(0,this.genes.length,t)}get pointer(){return this._pointer}fillRandom(t){for(let e=0;e<this.genes.length;e++)this.genes[e]=Se(t,this.genes.length);return this}mutateGene(t,e){return{template:fe(Array.from(t))||Pe,property:{option:ge(0,1,e.property.option+he(-.01,.01)),branches:e.property.branches.map((t=>ue()>.9?pe(0,this.genes.length):t))}}}replication(t){const e=new je(this.genes.length);for(let n=0;n<this.genes.length;n++)e.genes[n]=ue()>.995?this.mutateGene(t,this.genes[n]||Oe):this.genes[n]||Oe;return e}doAction(t,e,n,o){for(let s=0;s<Ne;s++){const s=this.genes[this.pointer];if(!s)continue;const r=s.template.action(t,e,n,o,s.property);if(null!==s.template.colorInfluence&&s.template.color&&(t.rgba=t.rgba.interpolate(s.template.color,s.template.colorInfluence)),this.pointer=null!==r.goto?this.pointer=r.goto:this.pointer=this.pointer+1,r.completed)return}}}const Ne=8,De={doNothing:{name:"Отдых",description:"Прибавляет 0.1 к здоровью",defaultEnabled:!0,color:new _e(100,100,0,255),colorInfluence:.01,action:(t,e,n,o,s)=>({completed:!0,goto:null,msg:"Лечение +0.1"})},multiply:{name:"Размножение",description:"Бот теряет 1/10 энергии на попытку размножения. Если клетка перед ним пуста, энергии больше 5 единиц, а возраст больше 10 кадров, бот размножается. Потомку передается количество энергии, равное параметру гена, такое же количество вычитается из собственной энергии.",defaultEnabled:!0,color:new _e(0,0,200,255),colorInfluence:.01,action:(t,e,n,o,s)=>{const r=o.narrowToCoords(e,n,t.narrow,1),i=o.get(...r);return t.energy*=.9,i?{completed:!0,goto:null,msg:"Размножение не удалось: спереди блок"}:t.energy<=5?{completed:!0,goto:null,msg:"Размножение не удалось: мало энергии"}:t.age<=10?{completed:!0,goto:null,msg:"Размножение не удалось: бот слишком молод"}:(o.set(...r,t.multiply(o.genePool,s.option)),{completed:!0,goto:null,msg:"Размножение"})}},rotate:{name:"Поворот",description:"Бот поворачивается по часовой стрелке, если параметр гена > 0.5, иначе против часовой стрелки",defaultEnabled:!0,color:null,colorInfluence:null,action:(t,e,n,o,s)=>(t.narrow=s.option>.5?t.narrow+1:t.narrow-1,{completed:!1,goto:null,msg:"Поворот "+(s.option>.5?"направо":"налево")})},photosynthesis:{name:"Фотосинтез",description:"Бот получает энергию путем фотосинтеза.При этом эффективность его фотосинтеза возрастает, а эффективность атак -- падает.Восстанавливает своё здоровье на 0.01.",defaultEnabled:!0,color:new _e(0,255,0,255),colorInfluence:.01,action:(t,e,n,o,s)=>{const r=1*t.abilities.photosynthesis**2;return t.energy+=r,t.increaseAbility("photosynthesis"),t.health=Math.min(1,t.health+.01),{completed:!0,goto:null,msg:`Фототсинтез: +${r.toFixed(2)} энергии`}}},attack:{name:"Атака",description:"Бот атакует блок перед собой, забирая себе часть его энергии.Повышает здоровье на 0.01.",defaultEnabled:!0,color:new _e(255,0,0,255),colorInfluence:.01,action:(t,e,n,o,s)=>{const r=o.get(...o.narrowToCoords(e,n,t.narrow,1));let i;if(r){const e=me(0,5,s.option)*t.abilities.attack**2,n=r.onAttack(t,e);t.increaseAbility("attack"),t.health=Math.min(1,t.health+.01),i=`Атака: +${n.toFixed(2)} энергии`}else i="Атака не удалась";return t.energy-=.5,{completed:!0,goto:null,msg:i}}}};function Le(t,e,n){const o=t.slice();return o[4]=e[n].value,o[5]=e[n].content,o}function Te(t){let e,n,o,s,r,i,c,l,u=t[5]+"";return{c(){e=m("label"),n=m("input"),s=y(),r=new M,i=y(),_(n,"type","checkbox"),_(n,"class","visually-hidden"),n.__value=o=t[4],n.value=n.__value,t[3][0].push(n),r.a=i,_(e,"class","svelte-15tteym"),A(e,"checked",t[0].includes(t[4]))},m(o,a){$(o,e,a),f(e,n),n.checked=~t[0].indexOf(n.__value),f(e,s),r.m(u,e),f(e,i),c||(l=x(n,"change",t[2]),c=!0)},p(t,s){2&s&&o!==(o=t[4])&&(n.__value=o,n.value=n.__value),1&s&&(n.checked=~t[0].indexOf(n.__value)),2&s&&u!==(u=t[5]+"")&&r.p(u),3&s&&A(e,"checked",t[0].includes(t[4]))},d(o){o&&g(e),t[3][0].splice(t[3][0].indexOf(n),1),c=!1,l()}}}function Fe(e){let n,o,s=e[1],r=[];for(let t=0;t<s.length;t+=1)r[t]=Te(Le(e,s,t));return{c(){n=m("div"),o=m("div");for(let t=0;t<r.length;t+=1)r[t].c();_(o,"class","wrapper-inner wrapper__inner svelte-15tteym"),_(n,"class","wrapper")},m(t,e){$(t,n,e),f(n,o);for(let t=0;t<r.length;t+=1)r[t].m(o,null)},p(t,[e]){if(3&e){let n;for(s=t[1],n=0;n<s.length;n+=1){const i=Le(t,s,n);r[n]?r[n].p(i,e):(r[n]=Te(i),r[n].c(),r[n].m(o,null))}for(;n<r.length;n+=1)r[n].d(1);r.length=s.length}},i:t,o:t,d(t){t&&g(n),function(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}(r,t)}}}function He(t,e,n){let{values:o=[]}=e,{checked:s=[]}=e;const r=[[]];return t.$$set=t=>{"values"in t&&n(1,o=t.values),"checked"in t&&n(0,s=t.checked)},[s,o,function(){s=function(t,e,n){const o=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&o.add(t[e].__value);return n||o.delete(e),Array.from(o)}(r[0],this.__value,this.checked),n(0,s)},r]}class Ve extends it{constructor(t){super(),rt(this,t,He,Fe,i,{values:1,checked:0})}}const{window:qe}=U;function Xe(t){let n,o,s;const r=[t[7]];var i=t[6].getComponent();function c(t){let n={};for(let t=0;t<r.length;t+=1)n=e(n,r[t]);return{props:n}}return i&&(n=new i(c())),{c(){n&&et(n.$$.fragment),o=b()},m(t,e){n&&nt(n,t,e),$(t,o,e),s=!0},p(t,e){const s=128&e?W(r,[Z(t[7])]):{};if(i!==(i=t[6].getComponent())){if(n){G();const t=n;Q(t.$$.fragment,1,0,(()=>{ot(t,1)})),J()}i?(n=new i(c()),et(n.$$.fragment),K(n.$$.fragment,1),nt(n,o.parentNode,o)):n=null}else i&&n.$set(s)},i(t){s||(n&&K(n.$$.fragment,t),s=!0)},o(t){n&&Q(n.$$.fragment,t),s=!1},d(t){t&&g(o),n&&ot(n,t)}}}function Re(t){let e,n,o,r,i,c,l,u,a,d,h,p,v=t[0].join(", ")+"";return{c(){e=m("input"),n=y(),o=m("div"),r=m("label"),i=w("seed: "),c=m("input"),l=y(),u=m("div"),a=w("checkboxes: "),d=w(v),_(e,"type","range"),_(e,"min","1"),_(e,"max","240"),_(c,"type","number")},m(s,g){$(s,e,g),C(e,t[9]),$(s,n,g),$(s,o,g),f(o,r),f(r,i),f(r,c),C(c,t[1]),$(s,l,g),$(s,u,g),f(u,a),f(u,d),h||(p=[x(e,"change",t[15]),x(e,"input",t[15]),x(c,"input",t[16])],h=!0)},p(t,n){512&n&&C(e,t[9]),2&n&&k(c.value)!==t[1]&&C(c,t[1]),1&n&&v!==(v=t[0].join(", ")+"")&&E(d,v)},d(t){t&&g(e),t&&g(n),t&&g(o),t&&g(l),t&&g(u),h=!1,s(p)}}}function Ye(t){let e,n,o;function s(e){t[17](e)}let r={values:Object.entries(De).map(We)};return void 0!==t[0]&&(r.checked=t[0]),e=new Ve({props:r}),B.push((()=>tt(e,"checked",s))),{c(){et(e.$$.fragment)},m(t,n){nt(e,t,n),o=!0},p(t,o){const s={};!n&&1&o&&(n=!0,s.checked=t[0],F((()=>n=!1))),e.$set(s)},i(t){o||(K(e.$$.fragment,t),o=!0)},o(t){Q(e.$$.fragment,t),o=!1},d(t){ot(e,t)}}}function Ge(t){let e,n,o,r,i,c,l,u,a,d,h;return{c(){e=m("label"),n=w("Ширина"),o=m("input"),r=y(),i=m("label"),c=w("Высота"),l=m("input"),u=y(),a=m("button"),a.textContent="Рестарт",_(o,"type","number"),_(l,"type","number")},m(s,p){$(s,e,p),f(e,n),f(e,o),C(o,t[4]),$(s,r,p),$(s,i,p),f(i,c),f(i,l),C(l,t[5]),$(s,u,p),$(s,a,p),d||(h=[x(o,"input",t[18]),x(l,"input",t[19]),x(a,"click",t[11])],d=!0)},p(t,e){16&e&&k(o.value)!==t[4]&&C(o,t[4]),32&e&&k(l.value)!==t[5]&&C(l,t[5])},d(t){t&&g(e),t&&g(r),t&&g(i),t&&g(u),t&&g(a),d=!1,s(h)}}}function Je(t){let e,n,o,s,r;return{c(){e=m("label"),n=m("input"),o=w("\n        Показать сетку"),_(n,"type","checkbox")},m(i,c){$(i,e,c),f(e,n),n.checked=t[3],f(e,o),s||(r=x(n,"change",t[20]),s=!0)},p(t,e){8&e&&(n.checked=t[3])},d(t){t&&g(e),s=!1,r()}}}function Ke(t){let e,n,o,s,r,i,c,l,u,a,d,h;return o=new vt({props:{title:"Всяческое",$$slots:{default:[Re]},$$scope:{ctx:t}}}),r=new vt({props:{title:"Генофонд",opened:!0,$$slots:{default:[Ye]},$$scope:{ctx:t}}}),c=new vt({props:{title:"Новый мир",$$slots:{default:[Ge]},$$scope:{ctx:t}}}),u=new vt({props:{title:"dev",$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){e=m("button"),e.textContent="step",n=y(),et(o.$$.fragment),s=y(),et(r.$$.fragment),i=y(),et(c.$$.fragment),l=y(),et(u.$$.fragment)},m(p,f){$(p,e,f),$(p,n,f),nt(o,p,f),$(p,s,f),nt(r,p,f),$(p,i,f),nt(c,p,f),$(p,l,f),nt(u,p,f),a=!0,d||(h=x(e,"click",t[10]),d=!0)},p(t,e){const n={};134218243&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n);const s={};134217729&e&&(s.$$scope={dirty:e,ctx:t}),r.$set(s);const i={};134217776&e&&(i.$$scope={dirty:e,ctx:t}),c.$set(i);const l={};134217736&e&&(l.$$scope={dirty:e,ctx:t}),u.$set(l)},i(t){a||(K(o.$$.fragment,t),K(r.$$.fragment,t),K(c.$$.fragment,t),K(u.$$.fragment,t),a=!0)},o(t){Q(o.$$.fragment,t),Q(r.$$.fragment,t),Q(c.$$.fragment,t),Q(u.$$.fragment,t),a=!1},d(t){t&&g(e),t&&g(n),ot(o,t),t&&g(s),ot(r,t),t&&g(i),ot(c,t),t&&g(l),ot(u,t),d=!1,h()}}}function Qe(t){let e,n,o,s,r,i,c,l,u,a,d,h;function p(e){t[21](e)}function v(e){t[22](e)}o=new bt({props:{height:"100%",$$slots:{default:[Xe]},$$scope:{ctx:t}}}),r=new kt({props:{opened:t[2],$$slots:{default:[Ke]},$$scope:{ctx:t}}});let w={};return void 0!==t[2]&&(w.sidebarOpened=t[2]),void 0!==t[8]&&(w.play=t[8]),c=new le({props:w}),B.push((()=>tt(c,"sidebarOpened",p))),B.push((()=>tt(c,"play",v))),c.$on("step",t[10]),c.$on("restart",t[11]),{c(){e=m("main"),n=m("div"),et(o.$$.fragment),s=y(),et(r.$$.fragment),i=y(),et(c.$$.fragment),_(n,"class","drag-wrapper-wrapper svelte-m7vy6c"),A(n,"open",t[2]),_(e,"class","svelte-m7vy6c"),A(e,"show-css",t[3])},m(l,u){$(l,e,u),f(e,n),nt(o,n,null),f(e,s),nt(r,e,null),f(e,i),nt(c,e,null),a=!0,d||(h=x(qe,"resize",t[14]),d=!0)},p(t,[s]){const i={};134217920&s&&(i.$$scope={dirty:s,ctx:t}),o.$set(i),4&s&&A(n,"open",t[2]);const a={};4&s&&(a.opened=t[2]),134218299&s&&(a.$$scope={dirty:s,ctx:t}),r.$set(a);const d={};!l&&4&s&&(l=!0,d.sidebarOpened=t[2],F((()=>l=!1))),!u&&256&s&&(u=!0,d.play=t[8],F((()=>u=!1))),c.$set(d),8&s&&A(e,"show-css",t[3])},i(t){a||(K(o.$$.fragment,t),K(r.$$.fragment,t),K(c.$$.fragment,t),a=!0)},o(t){Q(o.$$.fragment,t),Q(r.$$.fragment,t),Q(c.$$.fragment,t),a=!1},d(t){t&&g(e),ot(o),ot(r),ot(c),d=!1,h()}}}function Ue(t){let e=t;return t&&(window.clearInterval(t),console.log(`stop ${t} loop`),t=null),e}const We=([t,e])=>({value:t,content:e.name});function Ze(t,e,n){let o,s;function r(){m.step(),n(7,v=m.getComponentProps())}function i(t,e,n){const o=new Ee(t,e,n);for(let t=0;t<o.height;t++)for(let e=0;e<o.width;e++)if(ue()>.999){const n=new _e(255,0,0,255),s=new je(32).fillRandom(o.genePool);o.set(e,t,new Ae(n,100,{photosynthesis:.5,attack:.5},s))}const s=o.getComponentProps();return{world:o,worldProps:s}}let l=ae,u=!0,a=ze(!1);c(t,a,(t=>n(8,o=t)));let d=ze(60);c(t,d,(t=>n(9,s=t)));let h=function(t,e,n=!0){const o={stop(){window.clearInterval(s),s=void 0,n=!1},start(){s||(s=window.setInterval(t,1e3/e),n=!0)},setFps(t,n=!0){e=t,this.stop(),n&&this.start()}};let s;return n&&o.start(),o}(r,s,o);a.subscribe((function(){o?h.start():h.stop()})),d.subscribe((()=>{h.setFps(s,o)}));let p=!1,f=Object.entries(De).filter((([t,e])=>e.defaultEnabled)).map((([t,e])=>t)),$=50,g=50,{world:m,worldProps:v}=i($,g,Be(new Set(f),De));var w;w=Ue.bind(null,null),O().$$.on_destroy.push(w);return t.$$.update=()=>{1&t.$$.dirty&&n(6,m.genePool=Be(new Set(f),De),m)},[f,l,u,p,$,g,m,v,o,s,function(){var t;r(),o=!1,t=o,a.set(t)},function(){de(l);const t=i($,g,Be(new Set(f),De));n(6,m=t.world),n(7,v=t.worldProps)},a,d,()=>{window.matchMedia("(orientation: landscape)").matches?document.body.classList.add("static"):document.body.classList.remove("static")},function(){s=k(this.value),d.set(s)},function(){l=k(this.value),n(1,l)},function(t){f=t,n(0,f)},function(){$=k(this.value),n(4,$)},function(){g=k(this.value),n(5,g)},function(){p=this.checked,n(3,p)},function(t){u=t,n(2,u)},function(t){o=t,a.set(o)}]}return new class extends it{constructor(t){super(),rt(this,t,Ze,Qe,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
